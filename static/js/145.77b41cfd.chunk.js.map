{"version":3,"sources":["../node_modules/tslint/lib/rules/cyclomaticComplexityRule.js"],"names":["Object","defineProperty","exports","value","templateObject_1","templateObject_2","templateObject_3","tslib_1","__webpack_require__","tsutils_1","ts","Lint","utils_1","Rule","_super","apply","this","arguments","__extends","FAILURE_STRING","expected","actual","name","undefined","prototype","sourceFile","applyWithFunction","walk","threshold","isEnabled","isThresholdValid","MINIMUM_THRESHOLD","call","get","ruleArguments","DEFAULT_THRESHOLD","enumerable","configurable","metadata","ruleName","description","descriptionDetails","Utils","dedent","__makeTemplateObject","rationale","optionsDescription","options","type","minimum","optionExamples","typescriptOnly","Rules","AbstractRule","ctx","complexity","forEachChild","cb","node","isFunctionScopeBoundary","kind","SyntaxKind","CaseClause","statements","length","CatchClause","ConditionalExpression","DoStatement","ForStatement","ForInStatement","ForOfStatement","IfStatement","WhileStatement","BinaryExpression","operatorToken","BarBarToken","AmpersandAmpersandToken","increasesComplexity","old","nameStr","isIdentifier","text","addFailureAtNode"],"mappings":"sDAiBAA,OAAAC,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAwGAC,EAAAC,EAAAC,EAxGAC,EAAAC,EAAA,GACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,IACAG,EAAAH,EAAA,MACAI,EAAAJ,EAAA,IACAK,EAAA,SAAAC,GAEA,SAAAD,IACA,cAAAC,KAAAC,MAAAC,KAAAC,YAAAD,KA0CA,OA5CAT,EAAAW,UAAAL,EAAAC,GAKAD,EAAAM,eAAA,SAAAC,EAAAC,EAAAC,GACA,2BAAAC,IAAAD,EAAA,OAAAA,GAAA,mCACAD,EAAA,0CAAAD,GAEAP,EAAAW,UAAAT,MAAA,SAAAU,GACA,OAAAT,KAAAU,kBAAAD,EAAAE,GAAyDC,UAAAZ,KAAAY,aAEzDf,EAAAW,UAAAK,UAAA,WAEA,IAAAC,EAAA,kBAAAd,KAAAY,WAAAZ,KAAAY,WAAAf,EAAAkB,kBACA,OAAAjB,EAAAU,UAAAK,UAAAG,KAAAhB,OAAAc,GAEA9B,OAAAC,eAAAY,EAAAW,UAAA,aACAS,IAAA,WACA,YAAAV,IAAAP,KAAAkB,cAAA,GACAlB,KAAAkB,cAAA,GAEArB,EAAAsB,mBAEAC,YAAA,EACAC,cAAA,IAEAxB,EAAAsB,kBAAA,GACAtB,EAAAkB,kBAAA,EAEAlB,EAAAyB,UACAC,SAAA,wBACAC,YAAA,iDACAC,mBAAA9B,EAAA+B,MAAAC,OAAAvC,MAAAG,EAAAqC,sBAAA,0uCACAC,UAAAlC,EAAA+B,MAAAC,OAAAtC,MAAAE,EAAAqC,sBAAA,4qBACAE,mBAAAnC,EAAA+B,MAAAC,OAAArC,MAAAC,EAAAqC,sBAAA,+UAAA/B,EAAAsB,mBACAY,SACAC,KAAA,SACAC,QAAApC,EAAAkB,mBAEAmB,iBAAA,WACAF,KAAA,kBACAG,gBAAA,GAEAtC,EA7CA,CA8CCF,EAAAyC,MAAAC,cAED,SAAA1B,EAAA2B,GACA,IAAA1B,EAAA0B,EAAAP,QAAAnB,UACA2B,EAAA,EACA,OAAA7C,EAAA8C,aAAAF,EAAA7B,WAAA,SAAAgC,EAAAC,GAGA,IAAA9C,EAAA+C,wBAAAD,GAgBA,OAIA,SAAAA,GACA,OAAAA,EAAAE,MACA,KAAAlD,EAAAmD,WAAAC,WACA,OAAAJ,EAAAK,WAAAC,OAAA,EACA,KAAAtD,EAAAmD,WAAAI,YACA,KAAAvD,EAAAmD,WAAAK,sBACA,KAAAxD,EAAAmD,WAAAM,YACA,KAAAzD,EAAAmD,WAAAO,aACA,KAAA1D,EAAAmD,WAAAQ,eACA,KAAA3D,EAAAmD,WAAAS,eACA,KAAA5D,EAAAmD,WAAAU,YACA,KAAA7D,EAAAmD,WAAAW,eACA,SACA,KAAA9D,EAAAmD,WAAAY,iBACA,OAAAf,EAAAgB,cAAAd,MACA,KAAAlD,EAAAmD,WAAAc,YACA,KAAAjE,EAAAmD,WAAAe,wBACA,SACA,QACA,SAEA,QACA,UA7BAC,CAAAnB,IACAH,IAEA7C,EAAA8C,aAAAE,EAAAD,GAdA,IAAAqB,EAAAvB,EAGA,GAFAA,EAAA,EACA7C,EAAA8C,aAAAE,EAAAD,GACAF,EAAA3B,EAAA,CACA,IAAAN,EAAAoC,EAAApC,KACAyD,OAAAxD,IAAAD,GAAAb,EAAAuE,aAAA1D,KAAA2D,UAAA1D,EACA+B,EAAA4B,iBAAAxB,EAAA7C,EAAAM,eAAAS,EAAA2B,EAAAwB,IAEAxB,EAAAuB,IAjBA5E,EAAAW","file":"static/js/145.77b41cfd.chunk.js","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright 2018 Palantir Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar tsutils_1 = require(\"tsutils\");\nvar ts = require(\"typescript\");\nvar Lint = require(\"../index\");\nvar utils_1 = require(\"../utils\");\nvar Rule = /** @class */ (function (_super) {\n    tslib_1.__extends(Rule, _super);\n    function Rule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /* tslint:enable:object-literal-sort-keys */\n    Rule.FAILURE_STRING = function (expected, actual, name) {\n        return (\"The function\" + (name === undefined ? \"\" : \" \" + name) + \" has a cyclomatic complexity of \" +\n            (actual + \" which is higher than the threshold of \" + expected));\n    };\n    Rule.prototype.apply = function (sourceFile) {\n        return this.applyWithFunction(sourceFile, walk, { threshold: this.threshold });\n    };\n    Rule.prototype.isEnabled = function () {\n        // Disable the rule if the option is provided but non-numeric or less than the minimum.\n        var isThresholdValid = typeof this.threshold === \"number\" && this.threshold >= Rule.MINIMUM_THRESHOLD;\n        return _super.prototype.isEnabled.call(this) && isThresholdValid;\n    };\n    Object.defineProperty(Rule.prototype, \"threshold\", {\n        get: function () {\n            if (this.ruleArguments[0] !== undefined) {\n                return this.ruleArguments[0];\n            }\n            return Rule.DEFAULT_THRESHOLD;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rule.DEFAULT_THRESHOLD = 20;\n    Rule.MINIMUM_THRESHOLD = 2;\n    /* tslint:disable:object-literal-sort-keys */\n    Rule.metadata = {\n        ruleName: \"cyclomatic-complexity\",\n        description: \"Enforces a threshold of cyclomatic complexity.\",\n        descriptionDetails: Lint.Utils.dedent(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n            Cyclomatic complexity is assessed for each function of any type. A starting value of 0\\n            is assigned and this value is then incremented for every statement which can branch the\\n            control flow within the function. The following statements and expressions contribute\\n            to cyclomatic complexity:\\n            * `catch`\\n            * `if` and `? :`\\n            * `||` and `&&` due to short-circuit evaluation\\n            * `for`, `for in` and `for of` loops\\n            * `while` and `do while` loops\\n            * `case` clauses that contain statements\"], [\"\\n            Cyclomatic complexity is assessed for each function of any type. A starting value of 0\\n            is assigned and this value is then incremented for every statement which can branch the\\n            control flow within the function. The following statements and expressions contribute\\n            to cyclomatic complexity:\\n            * \\\\`catch\\\\`\\n            * \\\\`if\\\\` and \\\\`? :\\\\`\\n            * \\\\`||\\\\` and \\\\`&&\\\\` due to short-circuit evaluation\\n            * \\\\`for\\\\`, \\\\`for in\\\\` and \\\\`for of\\\\` loops\\n            * \\\\`while\\\\` and \\\\`do while\\\\` loops\\n            * \\\\`case\\\\` clauses that contain statements\"]))),\n        rationale: Lint.Utils.dedent(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject([\"\\n            Cyclomatic complexity is a code metric which indicates the level of complexity in a\\n            function. High cyclomatic complexity indicates confusing code which may be prone to\\n            errors or difficult to modify.\\n\\n            It's better to have smaller, single-purpose functions with self-documenting names.\"], [\"\\n            Cyclomatic complexity is a code metric which indicates the level of complexity in a\\n            function. High cyclomatic complexity indicates confusing code which may be prone to\\n            errors or difficult to modify.\\n\\n            It's better to have smaller, single-purpose functions with self-documenting names.\"]))),\n        optionsDescription: Lint.Utils.dedent(templateObject_3 || (templateObject_3 = tslib_1.__makeTemplateObject([\"\\n            An optional upper limit for cyclomatic complexity can be specified. If no limit option\\n            is provided a default value of \", \" will be used.\"], [\"\\n            An optional upper limit for cyclomatic complexity can be specified. If no limit option\\n            is provided a default value of \", \" will be used.\"])), Rule.DEFAULT_THRESHOLD),\n        options: {\n            type: \"number\",\n            minimum: Rule.MINIMUM_THRESHOLD,\n        },\n        optionExamples: [true, [true, 20]],\n        type: \"maintainability\",\n        typescriptOnly: false,\n    };\n    return Rule;\n}(Lint.Rules.AbstractRule));\nexports.Rule = Rule;\nfunction walk(ctx) {\n    var threshold = ctx.options.threshold;\n    var complexity = 0;\n    return ts.forEachChild(ctx.sourceFile, function cb(node) {\n        // tslint:disable:deprecation This is needed for https://github.com/palantir/tslint/pull/4274 and will be fixed once TSLint\n        // requires tsutils > 3.0.\n        if (utils_1.isFunctionScopeBoundary(node)) {\n            // tslint:enable:deprecation\n            var old = complexity;\n            complexity = 1;\n            ts.forEachChild(node, cb);\n            if (complexity > threshold) {\n                var name = node.name;\n                var nameStr = name !== undefined && tsutils_1.isIdentifier(name) ? name.text : undefined;\n                ctx.addFailureAtNode(node, Rule.FAILURE_STRING(threshold, complexity, nameStr));\n            }\n            complexity = old;\n        }\n        else {\n            if (increasesComplexity(node)) {\n                complexity++;\n            }\n            return ts.forEachChild(node, cb);\n        }\n    });\n}\nfunction increasesComplexity(node) {\n    switch (node.kind) {\n        case ts.SyntaxKind.CaseClause:\n            return node.statements.length > 0;\n        case ts.SyntaxKind.CatchClause:\n        case ts.SyntaxKind.ConditionalExpression:\n        case ts.SyntaxKind.DoStatement:\n        case ts.SyntaxKind.ForStatement:\n        case ts.SyntaxKind.ForInStatement:\n        case ts.SyntaxKind.ForOfStatement:\n        case ts.SyntaxKind.IfStatement:\n        case ts.SyntaxKind.WhileStatement:\n            return true;\n        case ts.SyntaxKind.BinaryExpression:\n            switch (node.operatorToken.kind) {\n                case ts.SyntaxKind.BarBarToken:\n                case ts.SyntaxKind.AmpersandAmpersandToken:\n                    return true;\n                default:\n                    return false;\n            }\n        default:\n            return false;\n    }\n}\nvar templateObject_1, templateObject_2, templateObject_3;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslint/lib/rules/cyclomaticComplexityRule.js\n// module id = 2025\n// module chunks = 145"],"sourceRoot":""}