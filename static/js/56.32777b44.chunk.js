webpackJsonp([56],{2125:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=i(1),a=i(54),r=i(1116),s=i(843),o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.FAILURE_STRING_FACTORY=function(e,n){return"Identifier '"+e+"' is never reassigned; use 'const' instead of '"+(n?"let":"var")+"'."},n.prototype.apply=function(e){var n={destructuringAll:0!==this.ruleArguments.length&&"all"===this.ruleArguments[0].destructuring},i=new p(e,this.ruleName,n);return this.applyWithWalker(i)},n.metadata={ruleName:"prefer-const",description:"Requires that variable declarations use `const` instead of `let` and `var` if possible.",descriptionDetails:r.Utils.dedent(d||(d=t.__makeTemplateObject(["\n            If a variable is only assigned to once when it is declared, it should be declared using 'const'"],["\n            If a variable is only assigned to once when it is declared, it should be declared using 'const'"]))),hasFix:!0,optionsDescription:r.Utils.dedent(l||(l=t.__makeTemplateObject(['\n            An optional object containing the property "destructuring" with two possible values:\n\n            * "','" (default) - If any variable in destructuring can be const, this rule warns for those variables.\n            * "','" - Only warns if all variables in destructuring can be const.'],['\n            An optional object containing the property "destructuring" with two possible values:\n\n            * "','" (default) - If any variable in destructuring can be const, this rule warns for those variables.\n            * "','" - Only warns if all variables in destructuring can be const.'])),"any","all"),options:{type:"object",properties:{destructuring:{type:"string",enum:["all","any"]}}},optionExamples:[!0,[!0,{destructuring:"all"}]],type:"maintainability",typescriptOnly:!1},n}(r.Rules.AbstractRule);n.Rule=o;var d,l,c=function(){function e(e){this.variables=new Map,this.reassigned=new Set,this.functionScope=void 0===e?this:e}return e.prototype.addVariable=function(e,n,i){(n.isBlockScoped?this:this.functionScope).variables.set(e.text,{declarationInfo:n,destructuringInfo:i,identifier:e,reassigned:!1})},e}(),p=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.scope=new c,n}return t.__extends(n,e),n.prototype.walk=function(e){var n=this;if(!e.isDeclarationFile){this.scope=new c;var i=function(e){var t=n.scope,r=s.isScopeBoundary(e);if(0!==r)if(1===r){if(e.kind===a.SyntaxKind.ModuleDeclaration&&s.hasModifier(e.modifiers,a.SyntaxKind.DeclareKeyword))return;if(n.scope=new c,s.isFunctionDeclaration(e)||s.isMethodDeclaration(e)||s.isFunctionExpression(e)||s.isArrowFunction(e)||s.isConstructorDeclaration(e)){if(void 0!==e.body){for(var o=0,d=e.parameters;o<d.length;o++){var l=d[o];i(l),n.settle(t)}i(e.body),n.onScopeEnd(t)}return void(n.scope=t)}}else n.scope=new c(n.scope.functionScope),(s.isForInStatement(e)||s.isForOfStatement(e))&&e.initializer.kind!==a.SyntaxKind.VariableDeclarationList&&n.handleExpression(e.initializer);if(e.kind===a.SyntaxKind.VariableDeclarationList?n.handleVariableDeclaration(e):e.kind===a.SyntaxKind.CatchClause?void 0!==e.variableDeclaration&&n.handleBindingName(e.variableDeclaration.name,{canBeConst:!1,isBlockScoped:!0}):e.kind===a.SyntaxKind.Parameter?e.parent.kind!==a.SyntaxKind.IndexSignature&&n.handleBindingName(e.name,{canBeConst:!1,isBlockScoped:!0}):s.isPostfixUnaryExpression(e)||s.isPrefixUnaryExpression(e)&&(e.operator===a.SyntaxKind.PlusPlusToken||e.operator===a.SyntaxKind.MinusMinusToken)?s.isIdentifier(e.operand)&&n.scope.reassigned.add(e.operand.text):s.isBinaryExpression(e)&&s.isAssignmentKind(e.operatorToken.kind)&&n.handleExpression(e.left),0===r)return a.forEachChild(e,i);a.forEachChild(e,i),n.onScopeEnd(t),n.scope=t};if(!a.isExternalModule(e))return a.forEachChild(e,i);a.forEachChild(e,i),this.onScopeEnd()}},n.prototype.handleExpression=function(e){switch(e.kind){case a.SyntaxKind.Identifier:this.scope.reassigned.add(e.text);break;case a.SyntaxKind.ParenthesizedExpression:this.handleExpression(e.expression);break;case a.SyntaxKind.ArrayLiteralExpression:for(var n=0,i=e.elements;n<i.length;n++){var t=i[n];t.kind===a.SyntaxKind.SpreadElement?this.handleExpression(t.expression):this.handleExpression(t)}break;case a.SyntaxKind.ObjectLiteralExpression:for(var r=0,s=e.properties;r<s.length;r++){var o=s[r];switch(o.kind){case a.SyntaxKind.ShorthandPropertyAssignment:this.scope.reassigned.add(o.name.text);break;case a.SyntaxKind.SpreadAssignment:void 0!==o.name?this.scope.reassigned.add(o.name.text):this.handleExpression(o.expression);break;default:this.handleExpression(o.initializer)}}}},n.prototype.handleBindingName=function(e,n){var i=this;if(e.kind===a.SyntaxKind.Identifier)this.scope.addVariable(e,n);else{var t={reassignedSiblings:!1};s.forEachDestructuringIdentifier(e,function(e){return i.scope.addVariable(e.name,n,t)})}},n.prototype.handleVariableDeclaration=function(e){var n,i=s.getVariableDeclarationKind(e);n=2===i||s.hasModifier(e.parent.modifiers,a.SyntaxKind.ExportKeyword,a.SyntaxKind.DeclareKeyword)?{canBeConst:!1,isBlockScoped:0!==i}:{allInitialized:e.parent.kind===a.SyntaxKind.ForOfStatement||e.parent.kind===a.SyntaxKind.ForInStatement||e.declarations.every(function(e){return void 0!==e.initializer}),canBeConst:!0,declarationList:e,isBlockScoped:1===i,isForLoop:e.parent.kind===a.SyntaxKind.ForStatement||e.parent.kind===a.SyntaxKind.ForOfStatement,reassignedSiblings:!1};for(var t=0,r=e.declarations;t<r.length;t++){var o=r[t];this.handleBindingName(o.name,n)}},n.prototype.settle=function(e){var n=this.scope,i=n.variables,t=n.reassigned;t.forEach(function(n){var t=i.get(n);void 0!==t?t.declarationInfo.canBeConst&&(t.reassigned=!0,t.declarationInfo.reassignedSiblings=!0,void 0!==t.destructuringInfo&&(t.destructuringInfo.reassignedSiblings=!0)):void 0!==e&&e.reassigned.add(n)}),t.clear()},n.prototype.onScopeEnd=function(e){var n=this;this.settle(e);var i=new Set;this.scope.variables.forEach(function(e,t){if(e.declarationInfo.canBeConst&&!e.reassigned&&(!e.declarationInfo.reassignedSiblings||!e.declarationInfo.isForLoop)&&(!n.options.destructuringAll||void 0===e.destructuringInfo||!e.destructuringInfo.reassignedSiblings)){var a=void 0;e.declarationInfo.allInitialized&&!e.declarationInfo.reassignedSiblings&&e.declarationInfo.isBlockScoped&&!i.has(e.declarationInfo.declarationList)&&(a=new r.Replacement(e.declarationInfo.declarationList.getStart(n.sourceFile),3,"const"),i.add(e.declarationInfo.declarationList)),n.addFailureAtNode(e.identifier,o.FAILURE_STRING_FACTORY(t,e.declarationInfo.isBlockScoped),a)}})},n}(r.AbstractWalker)}});
//# sourceMappingURL=56.32777b44.chunk.js.map