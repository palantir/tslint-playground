{"version":3,"sources":["../node_modules/tslint/lib/rules/noInvalidThisRule.js"],"names":["Object","defineProperty","exports","value","tslib_1","__webpack_require__","tsutils_1","ts","Lint","Rule","_super","apply","this","arguments","__extends","prototype","sourceFile","_this","hasOption","name","ruleArguments","indexOf","checkFuncInMethod","applyWithFunction","walk","metadata","ruleName","description","rationale","optionsDescription","Utils","dedent","templateObject_1","__makeTemplateObject","options","type","items","enum","minLength","maxLength","optionExamples","typescriptOnly","FAILURE_STRING_OUTSIDE","FAILURE_STRING_INSIDE","Rules","AbstractRule","thisAllowedParents","Set","ctx","currentParent","inClass","forEachChild","cb","node","originalParent","originalInClass","kind","SyntaxKind","ClassDeclaration","ClassExpression","MethodDeclaration","GetAccessor","SetAccessor","Constructor","PropertyDeclaration","FunctionDeclaration","FunctionExpression","parameters","some","isThisParameter","ThisKeyword","has","addFailureAtNode"],"mappings":"qDAiBAA,OAAAC,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAAC,EAAA,GACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,IACAG,EAAAH,EAAA,MAGAI,EAAA,SAAAC,GAEA,SAAAD,IACA,cAAAC,KAAAC,MAAAC,KAAAC,YAAAD,KA+BA,OAjCAR,EAAAU,UAAAL,EAAAC,GAIAD,EAAAM,UAAAJ,MAAA,SAAAK,GACA,IAAAC,EAAAL,KACAM,EAAA,SAAAC,GAAyC,WAAAF,EAAAG,cAAAC,QAAAF,IACzCG,EAAAJ,EATA,kCASAA,EAVA,4BAWA,OAAAN,KAAAW,kBAAAP,EAAAQ,EAAAF,IAGAb,EAAAgB,UACAC,SAAA,kBACAC,YAAA,yDACAC,UAAA,0GACAC,mBAAArB,EAAAsB,MAAAC,OAAAC,MAAA5B,EAAA6B,sBAAA,yTAlBA,4BAmBAC,SACAC,KAAA,QACAC,OACAD,KAAA,SACAE,MAvBA,6BAyBAC,UAAA,EACAC,UAAA,GAEAC,iBAAA,MA5BA,6BA6BAL,KAAA,gBACAM,gBAAA,GAGAhC,EAAAiC,uBAAA,2DACAjC,EAAAkC,sBAAA,wGAEAlC,EAlCA,CAmCCD,EAAAoC,MAAAC,cACD3C,EAAAO,OACA,IAoDAuB,EApDAc,EAAA,IAAAC,KAAA,MACA,SAAAvB,EAAAwB,GACA,IAAAhC,EAAAgC,EAAAhC,WAAAM,EAAA0B,EAAAd,QACAe,EAAA,EACAC,GAAA,EACA3C,EAAA4C,aAAAnC,EAAA,SAAAoC,EAAAC,GACA,IAAAC,EAAAL,EACAM,EAAAL,EACA,OAAAG,EAAAG,MACA,KAAAjD,EAAAkD,WAAAC,iBACA,KAAAnD,EAAAkD,WAAAE,gBAMA,OALAT,GAAA,EACAD,EAAA,EACA1C,EAAA4C,aAAAE,EAAAD,GACAH,EAAAK,OACAJ,EAAAK,GAEA,KAAAhD,EAAAkD,WAAAG,kBACA,KAAArD,EAAAkD,WAAAI,YACA,KAAAtD,EAAAkD,WAAAK,YACA,KAAAvD,EAAAkD,WAAAM,YACA,KAAAxD,EAAAkD,WAAAO,oBACA,KAAAzD,EAAAkD,WAAAQ,oBACA,KAAA1D,EAAAkD,WAAAS,mBACA,WAAAjB,GACAA,EAAA,EACA1C,EAAA4C,aAAAE,EAAAD,QACAH,EAAAK,KAIAL,EAAAI,EAAAc,WAAAC,KAAA9D,EAAA+D,iBACA,EACA,EACA9D,EAAA4C,aAAAE,EAAAD,QACAH,EAAAK,IAGA,KAAA/C,EAAAkD,WAAAa,YASA,YARAxB,EAAAyB,IAAAtB,KACAC,EAGA5B,GACA0B,EAAAwB,iBAAAnB,EAAA5C,EAAAkC,uBAHAK,EAAAwB,iBAAAnB,EAAA5C,EAAAiC,0BAQAnC,EAAA4C,aAAAE,EAAAD","file":"static/js/95.e3ad5ad5.chunk.js","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright 2018 Palantir Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar tsutils_1 = require(\"tsutils\");\nvar ts = require(\"typescript\");\nvar Lint = require(\"..\");\nvar OPTION_FUNCTION_IN_METHOD = \"check-function-in-method\";\nvar DEPRECATED_OPTION_FUNCTION_IN_METHOD = \"no-this-in-function-in-method\";\nvar Rule = /** @class */ (function (_super) {\n    tslib_1.__extends(Rule, _super);\n    function Rule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Rule.prototype.apply = function (sourceFile) {\n        var _this = this;\n        var hasOption = function (name) { return _this.ruleArguments.indexOf(name) !== -1; };\n        var checkFuncInMethod = hasOption(DEPRECATED_OPTION_FUNCTION_IN_METHOD) || hasOption(OPTION_FUNCTION_IN_METHOD);\n        return this.applyWithFunction(sourceFile, walk, checkFuncInMethod);\n    };\n    /* tslint:disable:object-literal-sort-keys */\n    Rule.metadata = {\n        ruleName: \"no-invalid-this\",\n        description: \"Disallows using the `this` keyword outside of classes.\",\n        rationale: \"See [the rule's author's rationale here.](https://github.com/palantir/tslint/pull/1105#issue-147549402)\",\n        optionsDescription: Lint.Utils.dedent(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n            One argument may be optionally provided:\\n\\n            * `\", \"` disallows using the `this` keyword in functions within class methods.\"], [\"\\n            One argument may be optionally provided:\\n\\n            * \\\\`\", \"\\\\` disallows using the \\\\`this\\\\` keyword in functions within class methods.\"])), OPTION_FUNCTION_IN_METHOD),\n        options: {\n            type: \"array\",\n            items: {\n                type: \"string\",\n                enum: [OPTION_FUNCTION_IN_METHOD],\n            },\n            minLength: 0,\n            maxLength: 1,\n        },\n        optionExamples: [true, [true, OPTION_FUNCTION_IN_METHOD]],\n        type: \"functionality\",\n        typescriptOnly: false,\n    };\n    /* tslint:enable:object-literal-sort-keys */\n    Rule.FAILURE_STRING_OUTSIDE = 'the \"this\" keyword is disallowed outside of a class body';\n    Rule.FAILURE_STRING_INSIDE = 'the \"this\" keyword is disallowed in function bodies inside class methods, ' +\n        \"use arrow functions instead\";\n    return Rule;\n}(Lint.Rules.AbstractRule));\nexports.Rule = Rule;\nvar thisAllowedParents = new Set([2 /* ClassMethod */, 3 /* BoundRegularFunction */]);\nfunction walk(ctx) {\n    var sourceFile = ctx.sourceFile, checkFuncInMethod = ctx.options;\n    var currentParent = 0 /* None */;\n    var inClass = false;\n    ts.forEachChild(sourceFile, function cb(node) {\n        var originalParent = currentParent;\n        var originalInClass = inClass;\n        switch (node.kind) {\n            case ts.SyntaxKind.ClassDeclaration:\n            case ts.SyntaxKind.ClassExpression:\n                inClass = true;\n                currentParent = 1 /* Class */;\n                ts.forEachChild(node, cb);\n                currentParent = originalParent;\n                inClass = originalInClass;\n                return;\n            case ts.SyntaxKind.MethodDeclaration:\n            case ts.SyntaxKind.GetAccessor:\n            case ts.SyntaxKind.SetAccessor:\n            case ts.SyntaxKind.Constructor:\n            case ts.SyntaxKind.PropertyDeclaration:\n            case ts.SyntaxKind.FunctionDeclaration:\n            case ts.SyntaxKind.FunctionExpression:\n                if (currentParent === 1 /* Class */) {\n                    currentParent = 2 /* ClassMethod */;\n                    ts.forEachChild(node, cb);\n                    currentParent = originalParent;\n                    return;\n                }\n                else {\n                    currentParent = node.parameters.some(tsutils_1.isThisParameter)\n                        ? 3 /* BoundRegularFunction */\n                        : 4 /* UnboundRegularFunction */;\n                    ts.forEachChild(node, cb);\n                    currentParent = originalParent;\n                    return;\n                }\n            case ts.SyntaxKind.ThisKeyword:\n                if (!thisAllowedParents.has(currentParent)) {\n                    if (!inClass) {\n                        ctx.addFailureAtNode(node, Rule.FAILURE_STRING_OUTSIDE);\n                    }\n                    else if (checkFuncInMethod) {\n                        ctx.addFailureAtNode(node, Rule.FAILURE_STRING_INSIDE);\n                    }\n                }\n                return;\n        }\n        ts.forEachChild(node, cb);\n    });\n}\nvar templateObject_1;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslint/lib/rules/noInvalidThisRule.js\n// module id = 2078\n// module chunks = 95"],"sourceRoot":""}