webpackJsonp([27],{2138:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1),i=t(843),o=t(55),s=t(254),a=t(1117),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(n,e),n.FAILURE_STRING=function(e){return"Expression is always "+e+"."},n.FAILURE_STRICT_PREFER_STRICT_EQUALS=function(e,n){return"Use '"+(n?"===":"!==")+" "+e+"' instead."},n.prototype.applyWithProgram=function(e,n){return a.isStrictNullChecksEnabled(n.getCompilerOptions())?this.applyWithFunction(e,l,void 0,n.getTypeChecker()):(s.showWarningOnce("strict-type-predicates does not work without --strictNullChecks"),[])},n.metadata={ruleName:"strict-type-predicates",description:a.Utils.dedent(d||(d=r.__makeTemplateObject(["\n            Warns for type predicates that are always true or always false.\n            Works for 'typeof' comparisons to constants (e.g. 'typeof foo === \"string\"'), and equality comparison to 'null'/'undefined'.\n            (TypeScript won't let you compare '1 === 2', but it has an exception for '1 === undefined'.)\n            Does not yet work for 'instanceof'.\n            Does *not* warn for 'if (x.y)' where 'x.y' is always truthy. For that, see strict-boolean-expressions.\n\n            This rule requires `strictNullChecks` to work properly."],["\n            Warns for type predicates that are always true or always false.\n            Works for 'typeof' comparisons to constants (e.g. 'typeof foo === \"string\"'), and equality comparison to 'null'/'undefined'.\n            (TypeScript won't let you compare '1 === 2', but it has an exception for '1 === undefined'.)\n            Does not yet work for 'instanceof'.\n            Does *not* warn for 'if (x.y)' where 'x.y' is always truthy. For that, see strict-boolean-expressions.\n\n            This rule requires \\`strictNullChecks\\` to work properly."]))),optionsDescription:"Not configurable.",options:null,optionExamples:[!0],type:"functionality",typescriptOnly:!0,requiresTypeInfo:!0},n.FAILURE_STRING_BAD_TYPEOF="Bad comparison for 'typeof'.",n}(a.Rules.TypedRule);function l(e,n){return o.forEachChild(e.sourceFile,function t(r){if(i.isBinaryExpression(r)){var s=a.getEqualsKind(r.operatorToken);void 0!==s&&function(t,r){var s=r.isStrict,a=r.isPositive,l=function(e,n){var t=e.left,r=e.right,i=p(t,r,n);return void 0!==i?i:p(r,t,n)}(t,s);if(void 0===l)return;if(2===l.kind)return void S(u.FAILURE_STRING_BAD_TYPEOF);var d=n.getTypeAtLocation(l.expression);if(i.isTypeFlagSet(d,o.TypeFlags.Any|o.TypeFlags.TypeParameter))return;switch(l.kind){case 0:var y=l.predicate,f=l.isNullOrUndefined,g=function(e,n){for(var t=!1,r=!1,i=0,o=T(e);i<o.length;i++){var s=o[i];if(n(s)?t=!0:r=!0,t&&r)return}return t}(d,y);void 0===g||!f&&function(e,n){return"{}"===e.typeToString(n)}(n,d)||S(u.FAILURE_STRING(g===a));break;case 1:var F=function(e){for(var n=!1,t=!1,r=!1,s=0,a=T(e);s<a.length;s++){var u=a[s];i.isTypeFlagSet(u,o.TypeFlags.Null)?n=!0:i.isTypeFlagSet(u,c)?t=!0:r=!0}return!r||(n&&t?void 0:n?"null":!!t&&"undefined")}(d);void 0!==F&&S("boolean"===typeof F?u.FAILURE_STRING(F===a):u.FAILURE_STRICT_PREFER_STRICT_EQUALS(F,a))}function S(n){e.addFailureAtNode(t,n)}}(r,s)}return o.forEachChild(r,t)})}function p(e,n,t){switch(n.kind){case o.SyntaxKind.TypeOfExpression:var r=n.expression;if(!i.isLiteralExpression(e))return i.isIdentifier(e)&&"undefined"===e.text||e.kind===o.SyntaxKind.NullKeyword||e.kind===o.SyntaxKind.TrueKeyword||e.kind===o.SyntaxKind.FalseKeyword?{kind:2}:void 0;var s=function(e){switch(e){case"undefined":return y(c);case"boolean":return y(o.TypeFlags.BooleanLike);case"number":return y(o.TypeFlags.NumberLike);case"string":return y(o.TypeFlags.StringLike);case"symbol":return y(o.TypeFlags.ESSymbol);case"function":return f;case"object":var n=o.TypeFlags.Undefined|o.TypeFlags.Void|o.TypeFlags.BooleanLike|o.TypeFlags.NumberLike|o.TypeFlags.StringLike|o.TypeFlags.ESSymbol;return function(e){return!i.isTypeFlagSet(e,n)&&!f(e)};default:return}}(e.text);return void 0===s?{kind:2}:{kind:0,expression:r,predicate:s,isNullOrUndefined:"undefined"===e.text};case o.SyntaxKind.NullKeyword:return a(o.TypeFlags.Null);case o.SyntaxKind.Identifier:return n.originalKeywordKind===o.SyntaxKind.UndefinedKeyword?a(c):void 0;default:return}function a(n){return t?{kind:0,expression:e,predicate:y(n),isNullOrUndefined:!0}:{kind:1,expression:e}}}n.Rule=u;var d,c=o.TypeFlags.Undefined|o.TypeFlags.Void;function y(e){return function(n){return i.isTypeFlagSet(n,e)}}function f(e){if(0!==e.getConstructSignatures().length||0!==e.getCallSignatures().length)return!0;var n=e.getSymbol();return void 0!==n&&"Function"===n.getName()}function T(e){return i.isUnionType(e)?e.types:[e]}}});
//# sourceMappingURL=27.9923e76e.chunk.js.map