{"version":3,"sources":["../node_modules/tslint/lib/rules/noDuplicateVariableRule.js"],"names":["Object","defineProperty","exports","value","tslib_1","__webpack_require__","utils","ts","Lint","utils_1","Rule","_super","apply","this","arguments","__extends","FAILURE_STRING","name","prototype","sourceFile","applyWithWalker","NoDuplicateVariableWalker","ruleName","parameters","ruleArguments","indexOf","metadata","description","descriptionDetails","Utils","dedent","templateObject_1","__makeTemplateObject","rationale","templateObject_2","optionsDescription","options","type","enum","optionExamples","typescriptOnly","Rules","AbstractRule","_this","scope","Set","walk","cb","node","isFunctionScopeBoundary","oldScope","forEachChild","isParameterDeclaration","handleBindingName","isVariableDeclarationList","isBlockScopedVariableDeclarationList","_i","_a","declarations","length","variable","check","kind","SyntaxKind","Identifier","has","text","addFailureAtNode","add","elements","e","OmittedExpression","AbstractWalker"],"mappings":"sDAiBAA,OAAAC,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAAC,EAAA,GACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,IACAG,EAAAH,EAAA,MACAI,EAAAJ,EAAA,IAEAK,EAAA,SAAAC,GAEA,SAAAD,IACA,cAAAC,KAAAC,MAAAC,KAAAC,YAAAD,KA0BA,OA5BAT,EAAAW,UAAAL,EAAAC,GAKAD,EAAAM,eAAA,SAAAC,GACA,8BAAAA,EAAA,KAEAP,EAAAQ,UAAAN,MAAA,SAAAO,GACA,OAAAN,KAAAO,gBAAA,IAAAC,EAAAF,EAAAN,KAAAS,UACAC,YAAA,IAAAV,KAAAW,cAAAC,QAZA,wBAgBAf,EAAAgB,UACAJ,SAAA,wBACAK,YAAA,qEACAC,mBAAApB,EAAAqB,MAAAC,OAAAC,MAAA3B,EAAA4B,sBAAA,4UACAC,UAAAzB,EAAAqB,MAAAC,OAAAI,MAAA9B,EAAA4B,sBAAA,0RACAG,mBAAA,iGACAC,SACAC,KAAA,SACAC,MAxBA,qBA0BAC,iBAAA,MA1BA,qBA2BAF,KAAA,gBACAG,gBAAA,GAEA9B,EA7BA,CA8BCF,EAAAiC,MAAAC,cACDxC,EAAAQ,OACA,IAuDAqB,EAAAG,EAvDAb,EAAA,SAAAV,GAEA,SAAAU,IACA,IAAAsB,EAAA,OAAAhC,KAAAC,MAAAC,KAAAC,YAAAD,KAEA,OADA8B,EAAAC,MAAA,IAAAC,IACAF,EAgDA,OApDAvC,EAAAW,UAAAM,EAAAV,GAMAU,EAAAH,UAAA4B,KAAA,SAAA3B,GACA,IAAAwB,EAAA9B,KACAA,KAAA+B,MAAA,IAAAC,IACA,IAAAE,EAAA,SAAAC,GAGA,GAAAvC,EAAAwC,wBAAAD,GAAA,CAEA,IAAAE,EAAAP,EAAAC,MAIA,OAHAD,EAAAC,MAAA,IAAAC,IACAtC,EAAA4C,aAAAH,EAAAD,QACAJ,EAAAC,MAAAM,GAGA,GAAAP,EAAAP,QAAAb,YAAAjB,EAAA8C,uBAAAJ,GACAL,EAAAU,kBAAAL,EAAA/B,MAAA,QAEA,GAAAX,EAAAgD,0BAAAN,KACA1C,EAAAiD,qCAAAP,GACA,QAAAQ,EAAA,EAAAC,EAAAT,EAAAU,aAAwDF,EAAAC,EAAAE,OAAgBH,IAAA,CACxE,IAAAI,EAAAH,EAAAD,GACAb,EAAAU,kBAAAO,EAAA3C,MAAA,GAGA,OAAAV,EAAA4C,aAAAH,EAAAD,IAEA,OAAAxC,EAAA4C,aAAAhC,EAAA4B,IAEA1B,EAAAH,UAAAmC,kBAAA,SAAApC,EAAA4C,GACA,GAAA5C,EAAA6C,OAAAvD,EAAAwD,WAAAC,WACAH,GAAAhD,KAAA+B,MAAAqB,IAAAhD,EAAAiD,MACArD,KAAAsD,iBAAAlD,EAAAP,EAAAM,eAAAC,EAAAiD,OAGArD,KAAA+B,MAAAwB,IAAAnD,EAAAiD,WAIA,QAAAV,EAAA,EAAAC,EAAAxC,EAAAoD,SAAgDb,EAAAC,EAAAE,OAAgBH,IAAA,CAChE,IAAAc,EAAAb,EAAAD,GACAc,EAAAR,OAAAvD,EAAAwD,WAAAQ,mBACA1D,KAAAwC,kBAAAiB,EAAArD,KAAA4C,KAKAxC,EArDA,CAsDCb,EAAAgE","file":"static/js/106.7ba59f84.chunk.js","sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright 2013 Palantir Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar utils = require(\"tsutils\");\nvar ts = require(\"typescript\");\nvar Lint = require(\"../index\");\nvar utils_1 = require(\"../utils\");\nvar OPTION_CHECK_PARAMETERS = \"check-parameters\";\nvar Rule = /** @class */ (function (_super) {\n    tslib_1.__extends(Rule, _super);\n    function Rule() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /* tslint:enable:object-literal-sort-keys */\n    Rule.FAILURE_STRING = function (name) {\n        return \"Duplicate variable: '\" + name + \"'\";\n    };\n    Rule.prototype.apply = function (sourceFile) {\n        return this.applyWithWalker(new NoDuplicateVariableWalker(sourceFile, this.ruleName, {\n            parameters: this.ruleArguments.indexOf(OPTION_CHECK_PARAMETERS) !== -1,\n        }));\n    };\n    /* tslint:disable:object-literal-sort-keys */\n    Rule.metadata = {\n        ruleName: \"no-duplicate-variable\",\n        description: \"Disallows duplicate variable declarations in the same block scope.\",\n        descriptionDetails: Lint.Utils.dedent(templateObject_1 || (templateObject_1 = tslib_1.__makeTemplateObject([\"\\n            This rule is only useful when using the `var` keyword -\\n            the compiler will detect redeclarations of `let` and `const` variables.\"], [\"\\n            This rule is only useful when using the \\\\`var\\\\` keyword -\\n            the compiler will detect redeclarations of \\\\`let\\\\` and \\\\`const\\\\` variables.\"]))),\n        rationale: Lint.Utils.dedent(templateObject_2 || (templateObject_2 = tslib_1.__makeTemplateObject([\"\\n            A variable can be reassigned if necessary -\\n            there's no good reason to have a duplicate variable declaration.\"], [\"\\n            A variable can be reassigned if necessary -\\n            there's no good reason to have a duplicate variable declaration.\"]))),\n        optionsDescription: \"You can specify `\\\"\" + OPTION_CHECK_PARAMETERS + \"\\\"` to check for variables with the same name as a parameter.\",\n        options: {\n            type: \"string\",\n            enum: [OPTION_CHECK_PARAMETERS],\n        },\n        optionExamples: [true, [true, OPTION_CHECK_PARAMETERS]],\n        type: \"functionality\",\n        typescriptOnly: false,\n    };\n    return Rule;\n}(Lint.Rules.AbstractRule));\nexports.Rule = Rule;\nvar NoDuplicateVariableWalker = /** @class */ (function (_super) {\n    tslib_1.__extends(NoDuplicateVariableWalker, _super);\n    function NoDuplicateVariableWalker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.scope = new Set();\n        return _this;\n    }\n    NoDuplicateVariableWalker.prototype.walk = function (sourceFile) {\n        var _this = this;\n        this.scope = new Set();\n        var cb = function (node) {\n            // tslint:disable:deprecation This is needed for https://github.com/palantir/tslint/pull/4274 and will be fixed once TSLint\n            // requires tsutils > 3.0.\n            if (utils_1.isFunctionScopeBoundary(node)) {\n                // tslint:enable:deprecation\n                var oldScope = _this.scope;\n                _this.scope = new Set();\n                ts.forEachChild(node, cb);\n                _this.scope = oldScope;\n                return;\n            }\n            if (_this.options.parameters && utils.isParameterDeclaration(node)) {\n                _this.handleBindingName(node.name, false);\n            }\n            else if (utils.isVariableDeclarationList(node) &&\n                !utils.isBlockScopedVariableDeclarationList(node)) {\n                for (var _i = 0, _a = node.declarations; _i < _a.length; _i++) {\n                    var variable = _a[_i];\n                    _this.handleBindingName(variable.name, true);\n                }\n            }\n            return ts.forEachChild(node, cb);\n        };\n        return ts.forEachChild(sourceFile, cb);\n    };\n    NoDuplicateVariableWalker.prototype.handleBindingName = function (name, check) {\n        if (name.kind === ts.SyntaxKind.Identifier) {\n            if (check && this.scope.has(name.text)) {\n                this.addFailureAtNode(name, Rule.FAILURE_STRING(name.text));\n            }\n            else {\n                this.scope.add(name.text);\n            }\n        }\n        else {\n            for (var _i = 0, _a = name.elements; _i < _a.length; _i++) {\n                var e = _a[_i];\n                if (e.kind !== ts.SyntaxKind.OmittedExpression) {\n                    this.handleBindingName(e.name, check);\n                }\n            }\n        }\n    };\n    return NoDuplicateVariableWalker;\n}(Lint.AbstractWalker));\nvar templateObject_1, templateObject_2;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/tslint/lib/rules/noDuplicateVariableRule.js\n// module id = 2065\n// module chunks = 106"],"sourceRoot":""}